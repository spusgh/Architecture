flowchart TD
    subgraph Client Layer
        A1[Mobile App]
        A2[Web Portal]
        A3[Chatbot: Slack, Voice]
    end

    subgraph Gateway Layer
        B1[API Gateway]
        B2[Authentication: OAuth2, SAML]
    end

    subgraph AI Core Engine
        C1[LLM Orchestration: LangChain, DSPy]
        C2[Prompt Chaining and Summarization]
        C3[Decisioning Logic]
    end

    subgraph Retrieval Layer
        D1[Vector DB: Pinecone, FAISS]
        D2[Contextual RAG]
    end

    subgraph Risk and Scoring
        E1[Credit Risk Models: XGBoost, SHAP]
        E2[Behavioral Scoring]
    end

    subgraph Personalization Layer
        F1[Offer Matching Engine]
        F2[NLP Summarization]
    end

    subgraph Backend Services
        G1[Compliance Engine: HIPAA, GDPR]
        G2[Audit Logging]
        G3[SQL/NoSQL Storage]
    end

    subgraph Notification Layer
        H1[Slack, Email, SMS]
        H2[Event Queue: Kafka, SQS]
    end

    subgraph Observability
        I1[Monitoring: Prometheus, Grafana]
        I2[Tracing: OpenTelemetry]
    end

    A1 --> B1
    A2 --> B1
    A3 --> B1
    B1 --> B2
    B2 --> C1
    C1 --> C2
    C2 --> C3
    C3 --> D2
    D2 --> D1
    C3 --> E1
    E1 --> E2
    C3 --> F1
    F1 --> F2
    C3 --> G1
    G1 --> G2
    G2 --> G3
    C3 --> H2
    H2 --> H1
    C3 --> I1
    I1 --> I2
